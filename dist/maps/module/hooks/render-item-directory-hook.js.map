{"version":3,"sources":["module/hooks/render-item-directory-hook.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,iBAAiB,EAAE,wBAAwB,EAAE,WAAW,EAAE,uBAAoB;AAEhG,MAAM,CAAC,MAAM,uBAAuB,GAAG,KAAK,EAC1C,SAAS,EACT,IAAI,EACJ,OAA0E,EAC1E,EAAE;IACF,IAAI,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE;QACxB,OAAO;KACR;IAED,CAAC,CAAC,IAAI,CAAC;SACJ,IAAI,CAAC,wBAAwB,CAAC;SAC9B,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE;QACnB,MAAM,QAAQ,GAAG,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACxC,IACE;YACE,OAAO,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,wBAAwB,EAAE,WAAW,CAAC,kBAAkB,CAAC;YAChF,OAAO,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,wBAAwB,EAAE,WAAW,CAAC,YAAY,CAAC;YAC1E,OAAO,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,wBAAwB,EAAE,WAAW,CAAC,aAAa,CAAC;SAC5E,CAAC,QAAQ,CAAC,QAAQ,CAAC,EACpB;YACA,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;SAC9B;IACH,CAAC,CAAC,CAAC;IAEL,CAAC,CAAC,IAAI,CAAC;SACJ,IAAI,CAAC,6BAA6B,CAAC;SACnC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE;QACnB,MAAM,MAAM,GAAW,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC9C,MAAM,IAAI,GAAS,OAAO,EAAE,CAAC,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,IAAgB,IAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,iBAAiB,CAAE,CAAC,QAAQ,KAAK,SAAS,EAAE;YACjG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;SAC9B;IACH,CAAC,CAAC,CAAC;AACP,CAAC,CAAC","file":"../../../module/hooks/render-item-directory-hook.js","sourcesContent":["import { ItemFlags } from '../loot-token';\nimport { getGame, PICK_UP_STIX_FLAG, PICK_UP_STIX_MODULE_NAME, SettingKeys } from '../settings';\n\nexport const renderItemDirectoryHook = async (\n  directory,\n  html,\n  options: { canCreate: boolean; sidebarIcon: string; tree: any; user: any },\n) => {\n  if (getGame().user?.isGM) {\n    return;\n  }\n\n  $(html)\n    .find('.directory-item.folder')\n    .each(function (i, el) {\n      const folderId = el.dataset['folderId'];\n      if (\n        [\n          getGame().settings.get(PICK_UP_STIX_MODULE_NAME, SettingKeys.parentItemFolderId),\n          getGame().settings.get(PICK_UP_STIX_MODULE_NAME, SettingKeys.itemFolderId),\n          getGame().settings.get(PICK_UP_STIX_MODULE_NAME, SettingKeys.tokenFolderId),\n        ].includes(folderId)\n      ) {\n        $(el).css('display', 'none');\n      }\n    });\n\n  $(html)\n    .find(`.directory-item.entity.item`)\n    .each(function (i, el) {\n      const itemId = <string>el.dataset['entityId'];\n      const item = <Item>getGame().items?.get(itemId);\n      if ((<ItemFlags>item.getFlag(PICK_UP_STIX_MODULE_NAME, PICK_UP_STIX_FLAG)).itemType !== undefined) {\n        $(el).css('display', 'none');\n      }\n    });\n};\n"]}