{"version":3,"sources":["module/hooks/render-item-directory-hook.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,iBAAiB,EAAE,wBAAwB,EAAE,WAAW,EAAE,uBAAoB;AAEhG,MAAM,CAAC,MAAM,uBAAuB,GAAG,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,OAAyE,EAAE,EAAE;IAC1I,IAAI,OAAO,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE;QACxB,OAAO;KACR;IAED,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE;QACzD,MAAM,QAAQ,GAAG,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACxC,IAAG;YACD,OAAO,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,wBAAwB,EAAE,WAAW,CAAC,kBAAkB,CAAC;YAChF,OAAO,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,wBAAwB,EAAE,WAAW,CAAC,YAAY,CAAC;YAC1E,OAAO,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,wBAAwB,EAAE,WAAW,CAAC,aAAa,CAAC;SAC5E,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YACpB,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;SAC9B;IACH,CAAC,CAAC,CAAC;IAEH,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE;QAC9D,MAAM,MAAM,GAAW,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC9C,MAAM,IAAI,GAAS,OAAO,EAAE,CAAC,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;QAChD,IAAgB,IAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,iBAAiB,CAAE,CAAC,QAAQ,KAAK,SAAS,EAAE;YACjG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;SAC9B;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAA","file":"../../../module/hooks/render-item-directory-hook.js","sourcesContent":["import { ItemFlags } from \"../loot-token\";\r\nimport { getGame, PICK_UP_STIX_FLAG, PICK_UP_STIX_MODULE_NAME, SettingKeys } from \"../settings\";\r\n\r\nexport const renderItemDirectoryHook = async (directory, html, options: {canCreate: boolean; sidebarIcon: string; tree: any, user: any }) => {\r\n  if (getGame().user?.isGM) {\r\n    return;\r\n  }\r\n\r\n  $(html).find('.directory-item.folder').each(function (i, el) {\r\n    const folderId = el.dataset['folderId'];\r\n    if([\r\n      getGame().settings.get(PICK_UP_STIX_MODULE_NAME, SettingKeys.parentItemFolderId),\r\n      getGame().settings.get(PICK_UP_STIX_MODULE_NAME, SettingKeys.itemFolderId),\r\n      getGame().settings.get(PICK_UP_STIX_MODULE_NAME, SettingKeys.tokenFolderId)\r\n    ].includes(folderId)) {\r\n      $(el).css('display', 'none');\r\n    }\r\n  });\r\n\r\n  $(html).find(`.directory-item.entity.item`).each(function (i, el) {\r\n    const itemId = <string>el.dataset['entityId'];\r\n    const item = <Item>getGame().items?.get(itemId);\r\n    if ((<ItemFlags>item.getFlag(PICK_UP_STIX_MODULE_NAME, PICK_UP_STIX_FLAG)).itemType !== undefined) {\r\n      $(el).css('display', 'none');\r\n    }\r\n  });\r\n}\r\n"]}