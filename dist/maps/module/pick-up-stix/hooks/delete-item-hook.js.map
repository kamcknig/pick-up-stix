{"version":3,"sources":["module/pick-up-stix/hooks/delete-item-hook.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,wBAAqB;AACnC,OAAO,EAAE,UAAU,EAAE,0BAAuB;AAC5C,OAAO,EAAE,WAAW,EAAE,YAAY,EAAE,mBAAgB;AAEpD,MAAM,CAAC,MAAM,cAAc,GAAG,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE;IAC5D,GAAG,CAAC,gCAAgC,CAAC,CAAC;IACtC,GAAG,CAAC,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC;IAE7B,IAAI,CAAC,UAAU,EAAE,EAAE;QACjB,GAAG,CAAC,sDAAsD,CAAC,CAAC;QAC5D,OAAO;KACR;IAED,MAAM,GAAG,GAAG,YAAY,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAE9C,KAAK,IAAI,SAAS,IAAI,GAAG,EAAE;QACzB,MAAM,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;KACzD;AACH,CAAC,CAAC","file":"../../../../module/pick-up-stix/hooks/delete-item-hook.js","sourcesContent":["import { log } from \"../../../log\";\r\nimport { amIFirstGm } from \"../../../utils\";\r\nimport { deleteToken, getLootToken } from \"../main\";\r\n\r\nexport const deleteItemHook = async (item, options, userId) => {\r\n  log(`pick-up-stix | deleteItemHook:`);\r\n  log([item, options, userId]);\r\n\r\n  if (!amIFirstGm()) {\r\n    log(`pick-up-stix | deleteItemHook | User is not first GM`);\r\n    return;\r\n  }\r\n\r\n  const lts = getLootToken({ itemId: item.id });\r\n\r\n  for (let lootToken of lts) {\r\n    await deleteToken(lootToken.tokenId, lootToken.sceneId);\r\n  }\r\n};\r\n"]}