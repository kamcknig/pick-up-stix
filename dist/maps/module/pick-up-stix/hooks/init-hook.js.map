{"version":3,"sources":["module/pick-up-stix/hooks/init-hook.ts"],"names":[],"mappings":"AAAA,0CAA0C;AAC1C,2BAA2B;AAE3B,OAAO,EAAE,gBAAgB,EAAE,uBAAoB;AAC/C,OAAO,EAAE,gBAAgB,EAAE,+BAA4B;AACvD,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,wBAAqB;AACnE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,wBAAqB;AAEzC,0CAA0C;AAC1C,MAAM,CAAC,KAAK,UAAU,QAAQ;IAC7B,GAAG,CAAC,yBAAyB,CAAC,CAAC;IAE/B,6BAA6B;IAC7B,qCAAqC;IAErC,2CAA2C;IAE3C,kCAAkC;IAClC,gBAAgB,EAAE,CAAC;IAEnB,+BAA+B;IAC/B,MAAM,gBAAgB,EAAE,CAAC;IAEzB,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,kBAAkB,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IAEtE,IAAI,IAAI,CAAC,MAAM,CAAC,EAAE,KAAK,OAAO,EAAE;QAC/B,IAAI,CAAC,wCAAwC,IAAI,CAAC,MAAM,CAAC,EAAE,sCAAsC,CAAC,CAAC;QAEnG,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,SAAS,EAAE,WAAW,EAAE;YACnD,GAAG,EAAE,eAAe;YACpB,UAAU,EAAE,IAAI;YAChB,YAAY,EAAE,IAAI;SAClB,CAAC,CAAC;KACH;AACF,CAAC;AAAA,CAAC","file":"../../../../module/pick-up-stix/hooks/init-hook.js","sourcesContent":["/* ------------------------------------ */\r\n/* Initialize module\t\t\t\t\t*/\r\n\r\nimport { registerSettings } from \"../settings\";\r\nimport { preloadTemplates } from \"../preloadTemplates\";\r\nimport { Token_isVisible, Token_tokenRelease } from \"../overrides\";\r\nimport { info, log } from \"../../../log\";\r\n\r\n/* ------------------------------------ */\r\nexport async function initHook() {\r\n\tlog('pick-up-stix | initHook');\r\n\r\n\t// CONFIG.debug.hooks = true;\r\n\t// CONFIG.debug['pickUpStix'] = true;\r\n\r\n\t// Assign custom classes and constants here\r\n\r\n\t// Register custom module settings\r\n\tregisterSettings();\r\n\r\n\t// Preload Handlebars templates\r\n\tawait preloadTemplates();\r\n\r\n\tToken.prototype.release = Token_tokenRelease(Token.prototype.release);\r\n\r\n\tif (game.system.id === 'dnd5e') {\r\n\t\tinfo(`pick-up-stix | initHook | System is '${game.system.id}' enabling Token.isVisible override.`);\r\n\r\n\t\tObject.defineProperty(Token.prototype, 'isVisible', {\r\n\t\t\tget: Token_isVisible,\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: true\r\n\t\t});\r\n\t}\r\n};\r\n"]}