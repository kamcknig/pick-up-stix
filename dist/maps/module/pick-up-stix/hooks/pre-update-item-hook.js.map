{"version":3,"sources":["module/pick-up-stix/hooks/pre-update-item-hook.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,wBAAqB;AAEnC,OAAO,EAAE,QAAQ,EAAE,qBAAkB;AAErC,MAAM,CAAC,MAAM,iBAAiB,GAAG,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,EAAE;IACrE,GAAG,CAAC,mCAAmC,CAAC,CAAC;IACzC,GAAG,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC;IAEnC,MAAM,SAAS,GAAc,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;IAE1E,IAAI,SAAS,EAAE,QAAQ,KAAK,QAAQ,CAAC,SAAS,EAAE;QAC9C,IAAI,CAAC,GAAG,GAAG,IAAI,EAAE,KAAK,EAAE,CAAC,cAAc,CAAC,EAAE,CAAC,cAAc,CAAC,EAAE,SAAS,CAAC,cAAc,IAAI,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC;QAC3H,WAAW,CAAC,IAAI,EAAE,+CAA+C,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;KAC9E;AACH,CAAC,CAAA","file":"../../../../module/pick-up-stix/hooks/pre-update-item-hook.js","sourcesContent":["import { log } from \"../../../log\";\r\nimport { ItemFlags } from \"../loot-token\";\r\nimport { ItemType } from \"../models\";\r\n\r\nexport const preUpdateItemHook = async (item, data, options, userId) => {\r\n  log(`pick-up-stix | preUpdateItemHook:`);\r\n  log([item, data, options, userId]);\r\n\r\n  const itemFlags: ItemFlags = item.getFlag('pick-up-stix', 'pick-up-stix');\r\n\r\n  if (itemFlags?.itemType === ItemType.CONTAINER) {\r\n    data.img = data?.flags?.['pick-up-stix']?.['pick-up-stix']?.container.imageClosePath ?? itemFlags.container.imageClosePath;\r\n    setProperty(data, 'flags.pick-up-stix.pick-up-stix.tokenData.img', data.img);\r\n  }\r\n}\r\n"]}