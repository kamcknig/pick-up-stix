{"version":3,"sources":["module/settings.ts"],"names":[],"mappings":"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","file":"../../module/settings.js","sourcesContent":["\r\nimport { log } from \"../main\";\r\nimport ImagePicker from \"./libs/ImagePicker\";\r\nimport SoundPicker from \"./libs/SoundPicker\";\r\n\r\n\r\nexport const PICK_UP_STIX_MODULE_NAME = 'pick-up-stix';\r\n\r\nexport const PICK_UP_STIX_FLAG = 'pick-up-stix';\r\n\r\nexport const PICK_UP_STIX_ITEM_ID_FLAG = 'pick-up-stix.itemId';\r\n\r\nexport const PICK_UP_STIX_TOKEN_ID_FLAG = 'pick-up-stix.tokenId';\r\n\r\nexport const PICK_UP_STIX_SOCKET = 'module.pick-up-stix';\r\n\r\n/**\r\n * Because typescript doesn't know when in the lifecycle of foundry your code runs, we have to assume that the\r\n * canvas is potentially not yet initialized, so it's typed as declare let canvas: Canvas | {ready: false}.\r\n * That's why you get errors when you try to access properties on canvas other than ready.\r\n * In order to get around that, you need to type guard canvas.\r\n * Also be aware that this will become even more important in 0.8.x because no canvas mode is being introduced there.\r\n * So you will need to deal with the fact that there might not be an initialized canvas at any point in time.\r\n * @returns\r\n */\r\n export function getCanvas(): Canvas {\r\n\tif (!(canvas instanceof Canvas) || !canvas.ready) {\r\n\t\tthrow new Error('Canvas Is Not Initialized');\r\n\t}\r\n\treturn canvas;\r\n}\r\n\r\n/**\r\n * Because typescript doesn't know when in the lifecycle of foundry your code runs, we have to assume that the\r\n * canvas is potentially not yet initialized, so it's typed as declare let canvas: Canvas | {ready: false}.\r\n * That's why you get errors when you try to access properties on canvas other than ready.\r\n * In order to get around that, you need to type guard canvas.\r\n * Also be aware that this will become even more important in 0.8.x because no canvas mode is being introduced there.\r\n * So you will need to deal with the fact that there might not be an initialized canvas at any point in time.\r\n * @returns\r\n */\r\nexport function getGame(): Game {\r\n\tif (!(game instanceof Game)) {\r\n\t\tthrow new Error(\"Game Is Not Initialized\");\r\n\t}\r\n\treturn game;\r\n}\r\n\r\nexport enum SettingKeys {\r\n\topenImagePath = 'default-container-opened-image-path',\r\n\tcloseImagePath = 'default-container-closed-image-path',\r\n\tdisableCurrencyLoot = 'disable-currency-loot',\r\n\tdefaultContainerCloseSound = 'default-container-close-sound',\r\n\tdefaultContainerOpenSound = 'default-container-open-sound',\r\n\tversion = 'version',\r\n\tlootTokenData = 'lootTokenData',\r\n\tparentItemFolderId = 'parentFolderId',\r\n\ttokenFolderId = 'tokenFolderId',\r\n\titemFolderId = 'itemFolderId',\r\n\tversion13updatemessage = 'version13updatemessage',\r\n\tGMActionTimeout = 'GMActionTimeout',\r\n\taddItemOnContainerCreation = 'addItemOnContainerCreation',\r\n\tenableLootTokenPerceiveReveal = 'enableLootTokenPerceiveReveal',\r\n\tdefaultMinimumPerceiveValue = 'defaultMinimumPerceiveValue'\r\n}\r\n\r\nconst systemCurrenciesImplemented = [\r\n\t'dnd5e','D35E'\r\n];\r\n\r\nexport const gmActionTimeout = (multiplier: number = 1000): number => {\r\n\treturn <number>(getGame().settings?.get(PICK_UP_STIX_MODULE_NAME, SettingKeys.GMActionTimeout) ?? 2) * multiplier;\r\n}\r\n\r\n// const imageTypeFunc = (val) => {\r\n// \treturn val;\r\n// }\r\n// Object.defineProperty(imageTypeFunc, 'name', {value: 'pick-up-stix-settings-image'});\r\n\r\n// const audioTypeFunc = (val) => {\r\n// \treturn val;\r\n// }\r\n// Object.defineProperty(audioTypeFunc, 'name', {value: 'pick-up-stix-settings-audio'});\r\n\r\nexport const registerSettings = function() {\r\n\tlog(`registerSettings`);\r\n\tregisterHiddenSettings();\r\n\tregisterWorldSettings();\r\n\tregisterClientSettings();\r\n}\r\n\r\nconst registerHiddenSettings = () => {\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.GMActionTimeout, {\r\n\t\tname: 'GM Action Timeout',\r\n\t\thint: 'Controls the amount of time to wait for a GM client to perform a GM action before giving up',\r\n\t\tscope: 'world',\r\n\t\ttype: Number,\r\n\t\tdefault: 2,\r\n\t\tconfig: false\r\n\t});\r\n\r\n  getGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.version13updatemessage, {\r\n    name: 'Version 13 Update Message',\r\n    hint: 'Tracks if user received the version 13 update message',\r\n    scope: 'world',\r\n    config: false,\r\n    type: Boolean,\r\n    default: false\r\n  });\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.version, {\r\n\t\tname: 'Version',\r\n\t\thint: 'Used to track which version is last loaded, so that we can give updates to users',\r\n\t\tscope: 'world',\r\n\t\tconfig: false,\r\n\t\ttype: String,\r\n\t\tdefault: '0.0.0'\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.parentItemFolderId, {\r\n\t\tname: 'Parent Item Folder ID',\r\n\t\thint: 'The folder ID of the main Pick-Up-Stix folder in the Items Directory',\r\n\t\tscope: 'world',\r\n\t\tconfig: false,\r\n\t\ttype: String\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.itemFolderId, {\r\n\t\tname: 'Items Folder ID',\r\n\t\thint: 'The Folder ID of the sub folder to hold templates for loot',\r\n\t\tscope: 'world',\r\n\t\tconfig: false,\r\n\t\ttype: String\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.tokenFolderId, {\r\n\t\tname: 'Tokens folder ID',\r\n\t\thint: 'The Folder ID of the sub folder to hold Items representing tokens',\r\n\t\tscope: 'world',\r\n\t\tconfig: false,\r\n\t\ttype: String\r\n\t});\r\n}\r\n\r\nconst registerWorldSettings = () => {\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.enableLootTokenPerceiveReveal, {\r\n\t\tname: 'Loot Token Reveal',\r\n\t\thint: `Enables auto-revealing loot tokens that players with controlled tokens are able to see with their passive 'perceive' value.`,\r\n\t\tscope: 'world',\r\n\t\tconfig: getGame().system.id === 'dnd5e',\r\n\t\ttype: Boolean,\r\n\t\tdefault: false\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.defaultMinimumPerceiveValue, {\r\n\t\tname: 'Minimum Perceive Value',\r\n\t\thint: `The minimum value a token's actor must have in order to perceive a hidden loot token.`,\r\n\t\tscope: 'world',\r\n\t\tconfig: getGame().system.id === 'dnd5e',\r\n\t\ttype: Number,\r\n\t\tdefault: 10\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.openImagePath, {\r\n\t\tname: 'Default Container Opened Image',\r\n\t\thint: 'Sets the path for the default image to use for opened containers',\r\n\t\tscope: 'world',\r\n\t\tconfig: true,\r\n\t\t//@ts-ignore\r\n\t\ttype: ImagePicker, //imageTypeFunc,\r\n\t\tdefault: 'modules/pick-up-stix/assets/chest-opened.png'\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.closeImagePath, {\r\n\t\tname: 'Default Container Closed Image',\r\n\t\thint: 'Sets the path for the default image to use for closed containers',\r\n\t\tscope: 'world',\r\n\t\tconfig: true,\r\n\t\t//@ts-ignore\r\n\t\ttype: ImagePicker, //imageTypeFunc,\r\n\t\tdefault: 'modules/pick-up-stix/assets/chest-closed.png'\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.disableCurrencyLoot, {\r\n\t\tname: 'Disable Currency Loot',\r\n\t\thint: `This option is enabled by default for systems that have not been implemented in Pick-Up-Stix yet. You can also use it to manually disable currency if you don't wish to have currency as loot.`,\r\n\t\tscope: 'world',\r\n\t\tconfig: true,\r\n\t\ttype: Boolean,\r\n\t\tdefault: !systemCurrenciesImplemented.includes(getGame().system.id)\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.defaultContainerOpenSound, {\r\n\t\tname: 'Default Container Open Sound',\r\n\t\thint: 'The default sound to play when opening a container.',\r\n\t\tscope: 'world',\r\n\t\t//@ts-ignore\r\n\t\ttype: SoundPicker, //audioTypeFunc,\r\n\t\tconfig: true\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.defaultContainerCloseSound, {\r\n\t\tname: 'Default Container Close Sound',\r\n\t\thint: 'The default sound to play when closing a container.',\r\n\t\tscope: 'world',\r\n\t\t//@ts-ignore\r\n\t\ttype: SoundPicker, //audioTypeFunc,\r\n\t\tconfig: true\r\n\t});\r\n\r\n\tgetGame().settings.register(PICK_UP_STIX_MODULE_NAME, SettingKeys.addItemOnContainerCreation, {\r\n\t\tname: 'Auto-add Item',\r\n\t\thint: `When enabled and dragging an Item to the canvas in order to create a container, the Item used to create the container will automatically be added to the created container rather than creating an empty container.`,\r\n\t\tscope: 'world',\r\n\t\tconfig: true,\r\n\t\ttype: Boolean,\r\n\t\tdefault: true\r\n\t});\r\n}\r\n\r\nconst registerClientSettings = () => {\r\n\r\n}\r\n\r\n// export function processHtml(html) {\r\n// \t$(html)\r\n// \t\t.find('input[data-dtype=\"pick-up-stix-settings-image\"')\r\n// \t\t.each(function() {\r\n// \t\t\tconst settingName = <string>($(this).attr('name')?.split('.')[1]);\r\n// \t\t\tlog(settingName);\r\n\r\n// \t\t\tlet picker = new FilePicker({\r\n// \t\t\t\ttype: 'image',\r\n// \t\t\t\tcurrent: getGame().settings?.get(PICK_UP_STIX_MODULE_NAME, settingName),\r\n// \t\t\t\tfield: $(this)[0]\r\n// \t\t\t});\r\n\r\n// \t\t\tlet pickerButton = $('<button type=\"button\" class=\"file-picker\" title=\"Pick image\"><i class=\"fas fa-file-import fa-fw\"></i></button>');\r\n// \t\t\tpickerButton.on(\"click\", function () {\r\n// \t\t\t\tpicker.render(true);\r\n// \t\t\t});\r\n// \t\t\t$(this).parent().append(pickerButton);\r\n// \t\t});\r\n\r\n// \t\t$(html)\r\n// \t\t.find('input[data-dtype=\"pick-up-stix-settings-audio\"')\r\n// \t\t.each(function() {\r\n// \t\t\tconst settingName = $(this).attr('name').split('.')[1];\r\n// \t\t\tlog(settingName);\r\n\r\n// \t\t\tlet picker = new FilePicker({\r\n// \t\t\t\ttype: 'audio',\r\n// \t\t\t\tcurrent: getGame().settings.get(PICK_UP_STIX_MODULE_NAME, settingName),\r\n// \t\t\t\tfield: $(this)[0]\r\n// \t\t\t});\r\n\r\n// \t\t\tlet pickerButton = $('<button type=\"button\" class=\"file-picker\" title=\"Pick image\"><i class=\"fas fa-file-import fa-fw\"></i></button>');\r\n// \t\t\tpickerButton.on(\"click\", function () {\r\n// \t\t\t\tpicker.render(true);\r\n// \t\t\t});\r\n// \t\t\t$(this).parent().append(pickerButton);\r\n// \t\t})\r\n// }"]}